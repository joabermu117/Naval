<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> <!-- Codificación de caracteres UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Configuración para responsive design -->
    <title>Batalla Naval - Juego</title> <!-- Título de la pestaña del navegador -->
    
    <!-- Hojas de estilo -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../css/juego.css"> <!-- Estilos personalizados para el juego -->
    <link rel="stylesheet" href="../css/ranking-modal.css">
    <link rel="stylesheet" href="../css/personalizar.css"> <!-- Estilos para el modal de estadísticas -->
</head>

<body id="game-body" class="bg-light"> <!-- Cuerpo del documento con fondo claro -->
    <!-- Barra de navegación superior -->
    <nav class="navbar navbar-expand-lg custom-nav">
        <div class="container-fluid">
          <span class="navbar-brand nav-title">Batalla Naval</span>
          
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse" id="navbarNav">
            <div class="d-flex ms-lg-auto flex-column flex-lg-row align-items-lg-center gap-2 gap-lg-3">
              <button class="home-btn" onclick="window.location.href='index.html'">Volver al Inicio</button>
              <button type="button" id="showStatsBtn" class="btn btn-info">Estadísticas</button>
              <button type="button" class="btn btn-ranking" id="btnOpenRanking">Ranking</button>
              <button id="exportMaps" class="btn btn-info">Exportar mapas</button>
            </div>
          </div>
        </div>
      </nav>

    <!-- Contenedor principal del juego (ocupa todo el ancho disponible) -->
    <div class="container-fluid game-main-container">
        
        <!-- Sección superior: Información de los jugadores -->
        <div class="row players-info-section">
            <!-- Panel de información del jugador (ocupa 5 columnas en pantallas medianas) -->
            <div class="col-md-5 player-info-panel">
                <!-- Contenedor donde se mostrará la información dinámica del jugador -->
                <div id="playerInfoContainer" class="d-flex align-items-center justify-content-end"></div>
            </div>
            
            <!-- Separador VS central (ocupa 2 columnas en pantallas medianas) -->
            <div class="col-md-2 vs-container d-flex align-items-center justify-content-center">
                <!-- Círculo decorativo con el texto VS -->
                <div class="vs-circle">VS</div>
            </div>
            
            <!-- Panel de información del oponente (ocupa 5 columnas en pantallas medianas) -->
            <div class="col-md-5 player-info-panel">
                <!-- Información estática del oponente (IA) -->
                <div id="opponentInfo" class="d-flex align-items-center justify-content-start">
                    <span>Oponente: IA</span> <!-- Este texto será reemplazado -->
                    <img src="https://flagcdn.com/w20/br.png" class="player-flag ms-2" id="opponentFlag" alt="Bandera oponente">
                </div>
            </div>
        </div>

        <!-- Sección principal: Tableros de juego -->
        <div class="row boards-section">
            <!-- Contenedor del tablero del jugador (ocupa 5 columnas en pantallas grandes) -->
            <div class="col-lg-5 board-wrapper">
                <h3 class="board-title">Tu Flota</h3> <!-- Título del tablero -->
                <!-- Tablero del jugador (se genera dinámicamente con JavaScript) -->
                <div id="playerBoard" class="game-board disabled-board"></div>
            </div>
            
            <!-- Sección del clima (ocupa 2 columnas en pantallas grandes) -->
            <div class="col-lg-2 d-flex align-items-center justify-content-center weather-section">
                <!-- Tarjeta de Bootstrap para mostrar información meteorológica -->
                <div id="weatherInfo" class="card">
                    <!-- Encabezado de la tarjeta -->
                    <div class="card-header">
                        <h4 class="board-title m-0">Información del Clima</h4> <!-- Título -->
                    </div>
                    <!-- Cuerpo de la tarjeta -->
                    <div class="card-body">
                        <div class="weather-details">
                            <!-- Elementos para mostrar información dinámica del clima -->
                            <p id="locationName" class="fw-bold mb-2"></p> <!-- Nombre de la ubicación -->
                            <p id="temperatureInfo" class="mb-1 small"></p> <!-- Información de temperatura -->
                            <p id="conditionInfo" class="small"></p> <!-- Condiciones climáticas -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contenedor del tablero del oponente (ocupa 5 columnas en pantallas grandes) -->
            <div class="col-lg-5 board-wrapper">
                <h3 class="board-title">Flota Enemiga</h3> <!-- Título del tablero -->
                <!-- Tablero del oponente (se genera dinámicamente con JavaScript) -->
                <div id="opponentBoard" class="game-board"></div>
            </div>
        </div>
        

        <!-- Sección de mensajes del juego -->
        <div class="row">
            <!-- Contenedor de mensajes (ocupa 12 columnas - ancho completo) -->
            <div class="col-12 game-messages-container">
                <!-- Área donde se mostrarán los mensajes del juego -->
                <h3 class="board-title">Mensajes del Juego</h3> <!-- Título de la sección -->
                <div class="game-messages bg-light p-3 shadow-sm" id="gameMessages"></div>
            </div>
        </div>
    </div>

    <!-- Barra de controles fija en la parte inferior -->
    <div class="fixed-bottom bg-white shadow-sm p-2">
        <div class="container">
            <!-- Contenedor flexible para los botones de control -->
            <div class="d-flex justify-content-center">
                <!-- Botón para reiniciar el juego -->
                <button id="restartBtn" class="btn btn-danger me-2">Reiniciar Juego</button>
                <!-- Botón para rendirse -->
                <button id="surrenderBtn" class="btn btn-warning">Rendirse</button>
            </div>
        </div>
    </div>



  <!-- Modal de Ranking (vacío, se cargará dinámicamente) -->
  <div id="rankingModalContainer"></div>

    <!-- Scripts JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> <!-- Bootstrap JS -->
    <script src="../js/user-data.js"></script> <!-- Script para manejar datos del usuario -->
    <script src="../js/juego.js"></script> <!-- Script principal del juego -->
    <script src="../js/ranking.js"></script>
    <script src="../js/stats-modal.js"></script>
</body>
</html>